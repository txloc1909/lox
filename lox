#!/usr/bin/python3.11

import sys

from scanner import Scanner

def run(src: str):
    scanner = Scanner(src)
    tokens = scanner.scan_tokens()

    # for now, just print all the tokens
    for t in tokens:
        print(t)


def run_file(fname):
    run(open(fname).read())


def run_prompt():
    while True:
        line = input(">>> ")
        if not line:
            break
        run(line)


def main(args):
    if len(args) > 2:
        print("Usage: ./lox [script]")
        sys.exit(65)
    elif len(args) == 2:
        run_file(args[1])
    else:
        run_prompt()


if __name__ == "__main__":
    main(sys.argv)
